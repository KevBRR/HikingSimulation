#include <GL/glew.h>
#include <GLFW/glfw3.h>
#include "stb_image.h"
#include <iostream>
#include "VertexShaderManager.h"
#include "FragmentShaderManager.h"
#include "camera.h"
#include "Heightmap.h"
#include <vector>
#include "Path.h"
#include <thread>    
#include <chrono>     

vector<glm::vec3> convertedHikePath;
vector<glm::vec3> hikePath = {
    {68.440165, 17.46964, 311.6}, {68.440182, 17.46961, 311.6}, {68.440199, 17.469579, 311.6}, {68.440216, 17.469548, 311.6}, {68.440344, 17.469316, 311.8}, {68.440341, 17.469314, 311.8}, {68.440309, 17.469362, 311.8}, {68.440312, 17.46937, 311.8}, {68.4403, 17.469435, 311.8}, {68.440311, 17.469427, 311.8}, {68.440318, 17.469427, 311.8}, {68.440389, 17.469499, 311.8}, {68.440418, 17.469557, 312.0}, {68.440504, 17.469706, 312.2}, {68.440555, 17.469804, 312.2}, {68.44058, 17.469886, 312.2}, {68.440616, 17.469989, 312.4}, {68.440704, 17.470162, 312.4}, {68.440707, 17.470182, 312.8}, {68.440697, 17.470247, 312.8}, {68.440696, 17.470295, 313.0}, {68.440714, 17.470356, 313.2}, {68.440744, 17.470425, 314.0}, {68.440754, 17.470446, 314.2}, {68.440768, 17.47048, 314.6}, {68.440782, 17.47051, 315.0}, {68.440788, 17.470527, 315.0}, {68.440795, 17.470543, 315.2}, {68.440832, 17.470571, 315.8}, {68.440861, 17.470566, 316.2}, {68.440876, 17.47056, 316.6}, {68.440881, 17.470582, 316.6}, {68.440897, 17.470584, 316.6}, {68.440938, 17.470546, 317.2}, {68.440946, 17.470543, 317.2}, {68.440995, 17.470491, 318.2}, {68.441051, 17.470418, 319.4}, {68.441067, 17.470399, 319.8}, {68.441122, 17.470381, 320.4}, {68.441195, 17.470309, 320.6}, {68.441214, 17.470318, 320.6}, {68.441218, 17.470309, 320.6}, {68.441316, 17.470282, 321.2}, {68.441343, 17.470256, 321.6}, {68.441352, 17.470242, 321.6}, {68.441404, 17.470194, 322.0}, {68.441438, 17.470202, 322.4}, {68.441457, 17.470199, 322.6}, {68.441494, 17.470208, 322.8}, {68.441527, 17.470197, 322.8}, {68.441535, 17.470202, 323.0}, {68.441548, 17.470214, 323.2}, {68.441602, 17.470209, 323.8}, {68.441615, 17.470199, 323.8}, {68.441672, 17.470162, 324.8}, {68.44172, 17.470148, 325.6}, {68.441747, 17.470153, 325.8}, {68.4418, 17.470139, 326.8}, {68.441848, 17.470174, 327.4}, {68.441896, 17.470188, 327.8}, {68.441932, 17.470206, 328.2}, {68.441936, 17.470217, 328.4}, {68.441936, 17.470217, 328.4}, {68.441936, 17.470217, 328.4}, {68.441936, 17.470217, 328.4}, {68.441962, 17.470227, 328.4}, {68.441996, 17.470225, 328.8}, {68.442014, 17.47023, 329.0}, {68.442139, 17.470286, 329.8}, {68.442183, 17.470296, 330.2}, {68.442246, 17.470302, 330.6}, {68.442353, 17.470246, 331.2}, {68.442368, 17.470239, 331.6}, {68.442403, 17.470191, 332.0}, {68.442426, 17.470173, 332.2}, {68.442439, 17.470164, 332.4}, {68.442497, 17.470134, 332.8}, {68.442591, 17.470124, 333.2}, {68.442604, 17.470127, 333.4}, {68.442693, 17.470172, 334.2}, {68.442705, 17.470181, 334.4}, {68.442749, 17.470231, 335.0}, {68.442785, 17.470272, 335.4}, {68.442859, 17.470378, 336.4}, {68.442867, 17.470394, 336.4}, {68.44292, 17.470495, 337.4}, {68.442953, 17.470552, 338.2}, {68.44297, 17.47057, 338.4}, {68.443033, 17.470661, 339.2}, {68.443059, 17.470704, 339.6}, {68.443094, 17.470816, 340.8}, {68.443094, 17.470848, 340.8}, {68.443077, 17.470961, 341.8}, {68.443045, 17.471005, 342.4}, {68.442982, 17.471026, 343.0}, {68.442936, 17.471031, 343.6}, {68.442873, 17.471081, 344.0}, {68.442831, 17.471114, 344.4}, {68.442798, 17.471152, 345.0}, {68.44274, 17.471266, 346.2}, {68.442734, 17.471281, 346.4}, {68.442724, 17.471338, 346.8}, {68.442739, 17.471415, 347.2}, {68.44276, 17.47143, 347.4}, {68.442837, 17.471452, 348.4}, {68.442852, 17.471453, 348.6}, {68.442959, 17.471433, 349.6}, {68.442972, 17.471434, 349.8}, {68.443065, 17.471472, 350.4}, {68.443123, 17.471523, 350.8}, {68.443134, 17.471531, 350.8}, {68.443168, 17.471585, 351.4}, {68.443178, 17.4716, 351.4}, {68.443218, 17.47167, 351.6}, {68.443233, 17.471694, 351.6}, {68.443244, 17.471717, 351.6}, {68.443266, 17.471753, 351.8}, {68.443356, 17.471916, 352.8}, {68.443375, 17.471942, 353.0}, {68.443419, 17.471999, 354.0}, {68.443504, 17.472102, 355.0}, {68.443631, 17.472272, 356.0}, {68.44364, 17.472281, 356.2}, {68.44372, 17.472329, 357.0}, {68.443803, 17.472402, 358.0}, {68.443913, 17.472517, 359.0}, {68.44393, 17.47255, 359.4}, {68.443957, 17.472592, 360.0}, {68.443966, 17.472606, 360.2}, {68.44401, 17.472688, 361.2}, {68.444039, 17.472716, 361.8}, {68.444157, 17.472851, 362.0}, {68.444265, 17.472994, 361.6}, {68.444307, 17.473056, 361.4}, {68.444398, 17.473191, 360.8}, {68.444444, 17.473292, 360.8}, {68.444496, 17.473458, 361.6}, {68.444519, 17.473601, 361.4}, {68.444525, 17.47373, 361.4}, {68.444531, 17.473907, 361.2}, {68.444533, 17.473935, 361.2}, {68.444556, 17.474022, 361.4}, {68.444599, 17.474149, 361.2}, {68.444669, 17.474319, 360.2}, {68.444679, 17.474342, 360.2}, {68.444697, 17.474384, 360.2}, {68.44478, 17.474623, 359.4}, {68.444796, 17.474765, 359.2}, {68.44479, 17.474924, 358.8}, {68.444783, 17.475192, 358.2}, {68.444782, 17.475308, 358.2}, {68.444803, 17.475499, 358.6}, {68.444834, 17.475539, 358.8}, {68.444886, 17.475539, 358.8}, {68.444935, 17.475538, 358.8}, {68.444946, 17.475536, 358.8}, {68.44513, 17.475586, 358.0}, {68.445156, 17.475597, 358.0}, {68.445201, 17.475615, 358.0}, {68.445301, 17.475699, 358.0}, {68.445327, 17.47573, 358.2}, {68.445445, 17.475839, 358.4}, {68.445555, 17.475988, 357.2}, {68.44558, 17.476026, 357.0}, {68.445668, 17.476212, 356.4}, {68.445801, 17.476427, 356.4}, {68.445857, 17.476553, 355.8}, {68.445886, 17.476627, 355.0}, {68.445914, 17.476697, 354.6}, {68.445926, 17.476728, 354.2}, {68.445981, 17.476834, 353.6}, {68.446039, 17.476928, 353.2}, {68.446159, 17.477061, 352.4}, {68.446201, 17.477098, 352.2}, {68.446224, 17.477101, 351.8}, {68.446223, 17.477104, 352.0}, {68.446294, 17.477168, 351.6}, {68.446314, 17.477188, 351.4}, {68.446386, 17.477276, 350.4}, {68.4464, 17.477296, 350.2}, {68.446426, 17.477325, 350.2}, {68.446448, 17.477356, 349.8}, {68.446482, 17.477388, 349.4}, {68.446504, 17.477408, 349.2}, {68.446543, 17.477438, 349.2}, {68.446638, 17.477526, 348.2}, {68.446702, 17.477591, 347.8}, {68.446738, 17.477629, 347.8}, {68.446831, 17.477727, 348.6}, {68.446868, 17.477771, 349.2}, {68.446936, 17.477865, 350.6}, {68.446954, 17.477897, 351.2}, {68.446964, 17.477913, 351.6}, {68.447002, 17.477975, 352.0}, {68.447042, 17.478037, 352.4}, {68.447051, 17.478051, 352.6}, {68.44709, 17.478108, 353.6}, {68.447125, 17.478183, 354.8}, {68.447162, 17.478275, 355.8}, {68.447171, 17.478297, 356.0}, {68.447178, 17.478321, 356.4}, {68.447208, 17.478403, 356.6}, {68.447244, 17.478501, 356.8}, {68.447262, 17.478548, 357.0}, {68.447289, 17.478622, 357.0}, {68.447299, 17.478647, 357.2}, {68.447324, 17.478713, 357.6}, {68.447417, 17.478908, 357.8}, {68.447532, 17.479088, 357.0}, {68.44762, 17.479402, 356.8}, {68.447659, 17.479599, 356.8}, {68.447708, 17.479661, 358.0}, {68.447732, 17.479696, 358.2}, {68.447746, 17.47972, 358.4}, {68.44777, 17.479772, 359.2}, {68.447791, 17.479836, 359.8}, {68.447802, 17.479874, 360.2}, {68.447809, 17.479914, 360.4}, {68.44781, 17.479935, 360.4}, {68.447828, 17.480071, 360.4}, {68.447887, 17.480245, 361.2}, {68.447894, 17.48027, 361.4}, {68.447899, 17.480296, 361.6}, {68.447976, 17.480528, 362.2}, {68.448015, 17.480745, 362.6}, {68.448026, 17.480804, 362.8}, {68.448031, 17.480833, 362.8}, {68.448056, 17.480926, 364.0}, {68.448067, 17.481027, 365.4}, {68.448066, 17.481118, 366.0}, {68.448042, 17.481306, 365.6}, {68.448028, 17.481357, 365.4}, {68.448001, 17.48148, 365.8}, {68.447986, 17.481609, 365.8}, {68.447972, 17.481707, 365.8}, {68.447944, 17.481883, 364.2}, {68.447943, 17.481893, 364.2}, {68.447936, 17.481956, 364.4}, {68.447929, 17.482089, 365.4}, {68.447926, 17.482145, 366.0}, {68.447942, 17.48223, 366.6}, {68.447971, 17.482331, 366.6}, {68.447999, 17.482519, 366.2}, {68.44799, 17.48264, 365.6}, {68.447986, 17.482666, 365.2}, {68.44797, 17.482698, 365.0}, {68.447932, 17.482661, 365.4}, {68.447927, 17.482642, 365.4}, {68.447927, 17.482642, 365.4}, {68.447972, 17.482803, 365.6}, {68.44799, 17.482874, 366.6}, {68.448028, 17.483007, 367.6}, {68.448042, 17.483073, 368.4}, {68.44805, 17.483102, 368.6}, {68.448063, 17.483171, 368.8}, {68.448092, 17.483381, 369.2}, {68.448109, 17.483451, 369.4}, {68.448115, 17.483475, 369.8}, {68.448115, 17.483533, 370.6}, {68.448112, 17.483586, 371.0}, {68.448108, 17.483781, 371.4}, {68.448107, 17.483815, 371.4}, {68.448105, 17.483964, 371.6}, {68.448108, 17.484031, 371.6}, {68.448102, 17.484121, 372.0}, {68.448099, 17.484307, 372.2}, {68.448099, 17.484342, 372.2}, {68.448097, 17.484475, 372.8}, {68.448085, 17.484798, 373.2}, {68.448083, 17.48483, 373.2}, {68.448078, 17.484951, 373.6}, {68.448068, 17.485123, 373.8}, {68.448063, 17.485218, 373.8}, {68.448061, 17.485282, 373.8}, {68.448058, 17.485384, 373.6}, {68.448018, 17.48571, 373.6}, {68.44795, 17.486013, 374.2}, {68.44792, 17.486463, 372.8}, {68.447929, 17.486543, 371.4}, {68.447992, 17.486779, 370.6}, {68.448017, 17.486845, 370.2}, {68.448061, 17.486948, 369.8}, {68.448088, 17.486981, 370.0}, {68.448121, 17.487044, 370.4}, {68.44813, 17.487049, 370.4}, {68.448163, 17.487101, 370.8}, {68.448223, 17.487297, 370.8}, {68.44822, 17.487442, 371.2}, {68.44822, 17.487551, 372.4}, {68.448228, 17.48761, 372.6}, {68.448279, 17.487801, 373.6}, {68.448294, 17.487851, 373.8}, {68.448348, 17.488186, 374.4}, {68.448353, 17.488249, 374.4}, {68.448362, 17.488414, 374.6}, {68.448368, 17.488622, 374.8}, {68.4484, 17.489, 375.0}, {68.448405, 17.489086, 375.4}, {68.448407, 17.489127, 375.4}, {68.448414, 17.489233, 375.8}, {68.44842, 17.489316, 376.4}, {68.448425, 17.489422, 376.8}, {68.448418, 17.489602, 377.4}, {68.448416, 17.489629, 377.6}, {68.448416, 17.489685, 378.2}, {68.448414, 17.489771, 378.8}, {68.448415, 17.489832, 379.2}, {68.448416, 17.489886, 379.6}, {68.448415, 17.490044, 380.4}, {68.448412, 17.490109, 380.6}, {68.448404, 17.490202, 381.2}, {68.448403, 17.490233, 381.4}, {68.4484, 17.490263, 381.6}, {68.448386, 17.490367, 382.4}, {68.448369, 17.490498, 383.4}, {68.448366, 17.490533, 383.4}, {68.448317, 17.490883, 383.0}, {68.448305, 17.490956, 383.0}, {68.448294, 17.491175, 382.8}, {68.448294, 17.491263, 383.6}, {68.448292, 17.491507, 384.6}, {68.44829, 17.491573, 384.8}, {68.448257, 17.491912, 385.4}, {68.448253, 17.491943, 385.6}, {68.448216, 17.492257, 386.6}, {68.448211, 17.492287, 386.8}, {68.448205, 17.49235, 387.4}, {68.448193, 17.49247, 387.8}, {68.448157, 17.492767, 388.8}, {68.448155, 17.492801, 389.2}, {68.448143, 17.493024, 390.2}, {68.44814, 17.493054, 390.2}, {68.448086, 17.493425, 390.4}, {68.448033, 17.493635, 390.8}, {68.448026, 17.493657, 390.8}, {68.448017, 17.493681, 390.8}, {68.448008, 17.493704, 391.0}, {68.448001, 17.493723, 391.4}, {68.447966, 17.493784, 392.6}, {68.44793, 17.493856, 393.8}, {68.44791, 17.493884, 394.4}, {68.447898, 17.493897, 394.8}, {68.447887, 17.49391, 395.0}, {68.447847, 17.493959, 396.2}, {68.447838, 17.493974, 396.4}, {68.447827, 17.493987, 396.4}, {68.447777, 17.494081, 396.6}, {68.44772, 17.494229, 397.4}, {68.447704, 17.494257, 397.6}, {68.447691, 17.494223, 397.8}, {68.447674, 17.49416, 397.2}, {68.447673, 17.494151, 397.2}, {68.447673, 17.494151, 397.2}, {68.447669, 17.494247, 398.4}, {68.447663, 17.494276, 399.0}, {68.447632, 17.494455, 399.6}, {68.447616, 17.494554, 400.0}, {68.447604, 17.494619, 400.6}, {68.447574, 17.494936, 400.8}, {68.447533, 17.495225, 401.6}, {68.447502, 17.495368, 402.8}, {68.44749, 17.495478, 404.0}, {68.447486, 17.495534, 404.4}, {68.447474, 17.495632, 405.4}, {68.447455, 17.495752, 406.4}, {68.447445, 17.495851, 406.4}, {68.447434, 17.496043, 406.0}, {68.44742, 17.496246, 405.6}, {68.447412, 17.496317, 405.4}, {68.447367, 17.496629, 406.4}, {68.447362, 17.496657, 406.6}, {68.447325, 17.49684, 407.6}, {68.447303, 17.496934, 408.8}, {68.447279, 17.497053, 410.0}, {68.447273, 17.497153, 410.8}, {68.447273, 17.497258, 411.0}, {68.447269, 17.497392, 411.4}, {68.447223, 17.497638, 411.0}, {68.447195, 17.497813, 410.6}, {68.447163, 17.49793, 410.4}, {68.447154, 17.497971, 410.4}, {68.447114, 17.49812, 410.0}, {68.447113, 17.498122, 410.0}, {68.447112, 17.498137, 409.8}, {68.44711, 17.498135, 409.6}, {68.447111, 17.498133, 408.8}, {68.447111, 17.498133, 408.8}, {68.44711, 17.498133, 408.8}, {68.447111, 17.498133, 409.2}, {68.447112, 17.498181, 410.0}, {68.447108, 17.498259, 410.0}, {68.447125, 17.498443, 410.0}, {68.447144, 17.498622, 410.2}, {68.447159, 17.498882, 410.2}, {68.4472, 17.499224, 410.8}, {68.447206, 17.499285, 411.0}, {68.447235, 17.499541, 411.8}, {68.447237, 17.499638, 412.0}, {68.447247, 17.499818, 412.2}, {68.44724, 17.499867, 412.0}, {68.447235, 17.499907, 412.0}, {68.447233, 17.500025, 411.4}, {68.447231, 17.500406, 411.6}, {68.447222, 17.500731, 411.8}, {68.447196, 17.501097, 412.0}, {68.447175, 17.501319, 412.0}, {68.447161, 17.501384, 412.0}, {68.447151, 17.501448, 412.2}, {68.447064, 17.501812, 412.6}, {68.447022, 17.502091, 411.8}, {68.447018, 17.502127, 411.8}, {68.446952, 17.502533, 412.8}, {68.446925, 17.502651, 413.0}, {68.446899, 17.502773, 413.2}, {68.446845, 17.503148, 413.4}, {68.446821, 17.503458, 413.6}, {68.446823, 17.503619, 413.6}, {68.446825, 17.503651, 413.4}, {68.446844, 17.503955, 413.2}, {68.446853, 17.504223, 413.6}, {68.44686, 17.504502, 414.0}, {68.446854, 17.504484, 414.0}, {68.446851, 17.50449, 414.0}, {68.446852, 17.50449, 413.6}, {68.446851, 17.504622, 413.8}, {68.446877, 17.504912, 413.8}, {68.446891, 17.504979, 413.8}, {68.446909, 17.505028, 414.2}, {68.44699, 17.505264, 415.0}, {68.447035, 17.505396, 415.2}, {68.447045, 17.505442, 415.4}, {68.447074, 17.505542, 415.6}, {68.447118, 17.505697, 416.4}, {68.447133, 17.505825, 417.0}, {68.447105, 17.506095, 417.4}, {68.4471, 17.506127, 417.4}, {68.447082, 17.506274, 417.4}, {68.447059, 17.506416, 416.8}, {68.447031, 17.506634, 416.8}, {68.447003, 17.507006, 417.0}, {68.446978, 17.507341, 417.6}, {68.446973, 17.507377, 417.6}, {68.446907, 17.507766, 417.6}, {68.446855, 17.508012, 418.0}, {68.446845, 17.508074, 418.0}, {68.44677, 17.508398, 418.2}, {68.446754, 17.508457, 418.2}, {68.446726, 17.508563, 418.6}, {68.446667, 17.508822, 418.6}, {68.446658, 17.508875, 418.6}, {68.446626, 17.509029, 418.4}, {68.446565, 17.509323, 419.4}, {68.446551, 17.509384, 419.6}, {68.446533, 17.509512, 420.0}, {68.446517, 17.509585, 420.6}, {68.446493, 17.50966, 420.6}, {68.446416, 17.509874, 419.2}, {68.446372, 17.509978, 418.6}, {68.446302, 17.510129, 418.6}, {68.446185, 17.51046, 419.4}, {68.446178, 17.510488, 419.4}, {68.446157, 17.510572, 419.6}, {68.446149, 17.510601, 419.6}, {68.446124, 17.51073, 419.8}, {68.446121, 17.510762, 419.8}, {68.44608, 17.51105, 420.4}, {68.446065, 17.51114, 420.4}, {68.446021, 17.511267, 420.0}, {68.44594, 17.511488, 420.6}, {68.445902, 17.511573, 420.6}, {68.445817, 17.511777, 420.2}, {68.445799, 17.511815, 420.2}, {68.445725, 17.511997, 420.6}, {68.445697, 17.512057, 420.8}, {68.445596, 17.512325, 421.4}, {68.44558, 17.512371, 421.4}, {68.445515, 17.512537, 421.6}, {68.445446, 17.51271, 421.2}, {68.445424, 17.512809, 421.2}, {68.445419, 17.512855, 421.2}, {68.445421, 17.512878, 421.2}, {68.445424, 17.512935, 421.6}, {68.445429, 17.512969, 421.6}, {68.445483, 17.513275, 421.8}, {68.445549, 17.513586, 421.8}, {68.445567, 17.513671, 422.0}, {68.445614, 17.514004, 422.6}, {68.445631, 17.514194, 422.6}, {68.445641, 17.514364, 422.8}, {68.445661, 17.514705, 422.8}, {68.44568, 17.514964, 422.4}, {68.445697, 17.515117, 421.8}, {68.445727, 17.515564, 422.8}, {68.445747, 17.515928, 421.8}, {68.44576, 17.516091, 421.6}, {68.445759, 17.516203, 421.8}, {68.445728, 17.516385, 423.0}, {68.445719, 17.51643, 423.8}, {68.445716, 17.51645, 424.2}, {68.445693, 17.516533, 424.6}, {68.445666, 17.516617, 425.0}, {68.445649, 17.516677, 425.4}, {68.445641, 17.516707, 426.0}, {68.445625, 17.516763, 426.6}, {68.445585, 17.51692, 426.4}, {68.445569, 17.516994, 425.2}, {68.445562, 17.517031, 425.0}, {68.445537, 17.517195, 424.4}, {68.445532, 17.517222, 424.0}, {68.445502, 17.517336, 423.0}, {68.445492, 17.517365, 422.8}, {68.445423, 17.51752, 422.2}, {68.445414, 17.517546, 422.2}, {68.44537, 17.517656, 423.0}, {68.445271, 17.517979, 423.0}, {68.445183, 17.518236, 422.6}, {68.445104, 17.518416, 422.6}, {68.445026, 17.518566, 422.4}, {68.444994, 17.518642, 422.4}, {68.444956, 17.518698, 422.8}, {68.444911, 17.518757, 423.0}, {68.444856, 17.518828, 423.0}, {68.444814, 17.51889, 423.0}, {68.444799, 17.518912, 423.0}, {68.444727, 17.518973, 422.8}, {68.444711, 17.518979, 422.8}, {68.444695, 17.518995, 422.8}, {68.444599, 17.519151, 422.8}, {68.444504, 17.519269, 422.6}, {68.444455, 17.519371, 422.6}, {68.444442, 17.519384, 422.6}, {68.44443, 17.519399, 422.6}, {68.444327, 17.519573, 423.0}, {68.444223, 17.519772, 423.6}, {68.444138, 17.51991, 423.8}, {68.444099, 17.519959, 423.8}, {68.443988, 17.520175, 423.6}, {68.443926, 17.520308, 424.0}, {68.443908, 17.520362, 424.0}, {68.443892, 17.520423, 424.0}, {68.44386, 17.520575, 424.2}, {68.443807, 17.520746, 424.2}, {68.443779, 17.520863, 424.2}, {68.443671, 17.521272, 423.6}, {68.44358, 17.521577, 424.0}, {68.443486, 17.521937, 424.2}, {68.443414, 17.522194, 424.4}, {68.443295, 17.522533, 424.4}, {68.443191, 17.522745, 423.8}, {68.443167, 17.522783, 423.8}, {68.443043, 17.522972, 424.0}, {68.442953, 17.523184, 424.2}, {68.442939, 17.523233, 424.4}, {68.442904, 17.523578, 424.8}, {68.442898, 17.523736, 425.0}, {68.442883, 17.523918, 425.2}, {68.442852, 17.524156, 425.8}, {68.442844, 17.524184, 425.8}, {68.442834, 17.524206, 425.8}, {68.442809, 17.524243, 426.0}, {68.442776, 17.524284, 427.0}, {68.442762, 17.524296, 427.0}, {68.442697, 17.524346, 428.4}, {68.442658, 17.524363, 429.4}, {68.44262, 17.524386, 430.0}, {68.442589, 17.524404, 430.4}, {68.442569, 17.52442, 430.8}, {68.44253, 17.524493, 431.2}, {68.442518, 17.524528, 431.6}, {68.442492, 17.524657, 432.6}, {68.442492, 17.524693, 432.6}, {68.442525, 17.524812, 432.6}, {68.442665, 17.525057, 432.8}, {68.442768, 17.525326, 432.8}, {68.442834, 17.525523, 432.8}, {68.442839, 17.525564, 432.8}, {68.442838, 17.525587, 432.2}, {68.442837, 17.525587, 432.4}, {68.44284, 17.525588, 432.0}, {68.44285, 17.525588, 432.0}, {68.442857, 17.525606, 432.2}, {68.442857, 17.525607, 432.2}, {68.442857, 17.525607, 432.2}, {68.442901, 17.525744, 433.4}, {68.442964, 17.525929, 433.6}, {68.442975, 17.525977, 433.6}, {68.442992, 17.526128, 433.4}, {68.443004, 17.526191, 433.4}, {68.443086, 17.526405, 433.2}, {68.443111, 17.526502, 433.6}, {68.443127, 17.52665, 434.6}, {68.443131, 17.526701, 434.8}, {68.443168, 17.526848, 435.6}, {68.443185, 17.526899, 436.0}, {68.443222, 17.526986, 436.6}, {68.443266, 17.527076, 437.2}, {68.443282, 17.527142, 437.2}, {68.443307, 17.527367, 437.8}, {68.443316, 17.527437, 438.0}, {68.443326, 17.527563, 438.4}, {68.443335, 17.527722, 438.8}, {68.443337, 17.527755, 438.8}, {68.44334, 17.528051, 439.6}, {68.443345, 17.528154, 439.8}, {68.443355, 17.528324, 440.4}, {68.443359, 17.528415, 441.0}, {68.443372, 17.528566, 442.2}, {68.443396, 17.528739, 443.2}, {68.443401, 17.528848, 444.0}, {68.443397, 17.52888, 444.4}, {68.443394, 17.528909, 444.8}, {68.443391, 17.528941, 444.8}, {68.443391, 17.528976, 444.8}, {68.443428, 17.529167, 444.0}, {68.443475, 17.52932, 443.2}, {68.443506, 17.529372, 441.8}, {68.443511, 17.529388, 441.6}, {68.443533, 17.529423, 440.6}, {68.443588, 17.529486, 439.4}, {68.443675, 17.529613, 438.4}, {68.443732, 17.529777, 438.2}, {68.44374, 17.529813, 438.2}, {68.44376, 17.529905, 438.2}, {68.443822, 17.530133, 438.2}, {68.443839, 17.530189, 438.2}, {68.443845, 17.530193, 438.0}, {68.443844, 17.5302, 438.0}, {68.443844, 17.530204, 437.8}, {68.443849, 17.530214, 437.6}, {68.443851, 17.530222, 437.6}, {68.443854, 17.530226, 437.8}, {68.443854, 17.530228, 437.8}, {68.443855, 17.530231, 437.8}, {68.443856, 17.53023, 437.8}, {68.443809, 17.530067, 437.6}, {68.443702, 17.529695, 437.8}, {68.443653, 17.529562, 438.0}, {68.443621, 17.529495, 438.2}, {68.443553, 17.529417, 439.2}, {68.443529, 17.529396, 439.4}, {68.443518, 17.529389, 439.6}, {68.443498, 17.529357, 440.2}, {68.443488, 17.529335, 440.6}, {68.443464, 17.529271, 441.8}, {68.44345, 17.529235, 442.2}, {68.443431, 17.529202, 442.8}, {68.443383, 17.529083, 444.0}, {68.443379, 17.529072, 444.0}, {68.443374, 17.52902, 444.2}, {68.443374, 17.528739, 444.4}, {68.443353, 17.528548, 442.8}, {68.443338, 17.528474, 442.2}, {68.443328, 17.528442, 441.6}, {68.443302, 17.528329, 441.4}, {68.443299, 17.528291, 441.0}, {68.443297, 17.528226, 440.6}, {68.443296, 17.528064, 440.0}, {68.443293, 17.527996, 439.8}, {68.443283, 17.527844, 439.4}, {68.443262, 17.527597, 438.8}, {68.443242, 17.527412, 438.4}, {68.443227, 17.527266, 437.8}, {68.443193, 17.527129, 437.6}, {68.44315, 17.527017, 437.4}, {68.443099, 17.526856, 436.6}, {68.443094, 17.526811, 435.8}, {68.443072, 17.526586, 435.0}, {68.443058, 17.526548, 434.8}, {68.443039, 17.526497, 434.8}, {68.44302, 17.526434, 434.6}, {68.442949, 17.526224, 434.0}, {68.442929, 17.526051, 433.8}, {68.442924, 17.526011, 434.0}, {68.442892, 17.525883, 433.8}, {68.442869, 17.525857, 433.8}, {68.442868, 17.525862, 433.6}, {68.442868, 17.525861, 432.8}, {68.442868, 17.525856, 432.6}, {68.442868, 17.525855, 432.4}, {68.44287, 17.525809, 432.4}, {68.442871, 17.525807, 432.6}, {68.442871, 17.525806, 432.6}, {68.44287, 17.525806, 432.8}, {68.442869, 17.525805, 433.0}, {68.442869, 17.525809, 433.0}, {68.44287, 17.525816, 433.6}, {68.442871, 17.525816, 433.8}, {68.442884, 17.525794, 433.2}, {68.442886, 17.525788, 433.2}, {68.442887, 17.525778, 433.2}, {68.442888, 17.525772, 433.2}, {68.442838, 17.525612, 434.0}, {68.442809, 17.525492, 433.8}, {68.442761, 17.525347, 434.0}, {68.442751, 17.525328, 434.0}, {68.442707, 17.525222, 434.0}, {68.442623, 17.525045, 434.0}, {68.442605, 17.525007, 434.2}, {68.442494, 17.524706, 434.0}, {68.442494, 17.524614, 434.0}, {68.442498, 17.52458, 434.0}, {68.442509, 17.524488, 434.0}, {68.442555, 17.524404, 433.2}, {68.442563, 17.524383, 433.0}, {68.442597, 17.524317, 432.6}, {68.442643, 17.52429, 431.4}, {68.442673, 17.524265, 431.0}, {68.442694, 17.524242, 430.4}, {68.442735, 17.524207, 429.4}, {68.442758, 17.524171, 428.8}, {68.442779, 17.524147, 428.0}, {68.442797, 17.524123, 427.8}, {68.442817, 17.523991, 427.4}, {68.442829, 17.52373, 427.0}, {68.44283, 17.523715, 427.0}, {68.442826, 17.523701, 426.8}, {68.44284, 17.523705, 426.6}, {68.442855, 17.523608, 426.6}, {68.442865, 17.523474, 426.4}, {68.44288, 17.523334, 426.2}, {68.442888, 17.523257, 426.2}, {68.442947, 17.523014, 426.2}, {68.443077, 17.52273, 426.2}, {68.443135, 17.522633, 426.0}, {68.443155, 17.522598, 426.0}, {68.443211, 17.522486, 426.2}, {68.443254, 17.5224, 426.4}, {68.443312, 17.522246, 426.4}, {68.443317, 17.522217, 426.4}, {68.443331, 17.522172, 426.4}, {68.443409, 17.521935, 426.0}, {68.443432, 17.521852, 426.2}, {68.443468, 17.521732, 426.4}, {68.443545, 17.521403, 426.2}, {68.443616, 17.521105, 425.8}, {68.443702, 17.520804, 426.2}, {68.44378, 17.520557, 426.4}, {68.443826, 17.520406, 426.4}, {68.443874, 17.520259, 426.4}, {68.443931, 17.520146, 426.0}, {68.443942, 17.520128, 426.0}, {68.44395, 17.520103, 426.0}, {68.444017, 17.519944, 426.0}, {68.444097, 17.519777, 426.2}, {68.444207, 17.519558, 426.2}, {68.444293, 17.519378, 425.4}, {68.444376, 17.519214, 425.2}, {68.444461, 17.51911, 425.2}, {68.444554, 17.518999, 425.4}, {68.444566, 17.518983, 425.6}, {68.444603, 17.518933, 425.4}, {68.444615, 17.518915, 425.4}, {68.44466, 17.518832, 425.4}, {68.444725, 17.518733, 425.4}, {68.444745, 17.518722, 425.4}, {68.444796, 17.518698, 425.6}, {68.444838, 17.518683, 425.6}, {68.444913, 17.518579, 425.4}, {68.444953, 17.518493, 425.0}, {68.444984, 17.518441, 424.8}, {68.444994, 17.518426, 424.8}, {68.445057, 17.518251, 425.2}, {68.445087, 17.518183, 425.2}, {68.445132, 17.518085, 425.4}, {68.44515, 17.518015, 425.4}, {68.445191, 17.51791, 425.6}, {68.44524, 17.517737, 425.6}, {68.445269, 17.517631, 425.4}, {68.445319, 17.51749, 425.6}, {68.445405, 17.517373, 424.6}, {68.445414, 17.517338, 424.6}, {68.445456, 17.517236, 424.8}, {68.445507, 17.517038, 426.0}, {68.445524, 17.516979, 426.4}, {68.445547, 17.516842, 427.2}, {68.445563, 17.516766, 428.0}, {68.445575, 17.516721, 428.2}, {68.445605, 17.516586, 428.0}, {68.445614, 17.516555, 427.6}, {68.445639, 17.51646, 427.2}, {68.445676, 17.516288, 426.2}, {68.445684, 17.51625, 425.8}, {68.445694, 17.516201, 425.6}, {68.445704, 17.516134, 424.8}, {68.445709, 17.515964, 423.8}, {68.445705, 17.515863, 423.8}, {68.445699, 17.515806, 423.8}, {68.445696, 17.515776, 424.0}, {68.44569, 17.515561, 425.0}, {68.445693, 17.515532, 425.0}, {68.445695, 17.515313, 424.8}, {68.445667, 17.515053, 424.4}, {68.445635, 17.514842, 425.0}, {68.445626, 17.514772, 425.0}, {68.44562, 17.514698, 425.2}, {68.445619, 17.514626, 425.2}, {68.445592, 17.514309, 425.4}, {68.445555, 17.513863, 425.0}, {68.445511, 17.513523, 424.4}, {68.445454, 17.513232, 424.4}, {68.445439, 17.51316, 424.4}, {68.445401, 17.512849, 423.8}, {68.445405, 17.512808, 423.8}, {68.445434, 17.512669, 423.8}, {68.445475, 17.512552, 423.8}, {68.445574, 17.512413, 424.0}, {68.445659, 17.512199, 423.8}, {68.445716, 17.511947, 423.2}, {68.445797, 17.511688, 422.8}, {68.445809, 17.511646, 422.8}, {68.445855, 17.511551, 422.8}, {68.445931, 17.511371, 423.0}, {68.446042, 17.511046, 422.6}, {68.446078, 17.510769, 422.6}, {68.446129, 17.510454, 421.8}, {68.44617, 17.510303, 421.6}, {68.446201, 17.510185, 421.2}, {68.446327, 17.50991, 420.6}, {68.446398, 17.509731, 420.4}, {68.446463, 17.509549, 421.6}, {68.446471, 17.50952, 421.8}, {68.446514, 17.509326, 421.8}, {68.446563, 17.509048, 421.0}, {68.446573, 17.508979, 420.4}, {68.446624, 17.508739, 420.4}, {68.446696, 17.508396, 420.6}, {68.446753, 17.508144, 420.2}, {68.446815, 17.507875, 420.0}, {68.446848, 17.507669, 419.6}, {68.446894, 17.507406, 419.4}, {68.446905, 17.507334, 419.4}, {68.446941, 17.507155, 419.2}, {68.446951, 17.506884, 418.4}, {68.446981, 17.506543, 418.6}, {68.44702, 17.506292, 418.8}, {68.447058, 17.506006, 419.0}, {68.447057, 17.505638, 418.8}, {68.447024, 17.505504, 418.2}, {68.44698, 17.505409, 417.6}, {68.446924, 17.505271, 417.2}, {68.44692, 17.505254, 417.2}, {68.446916, 17.505231, 417.0}, {68.446901, 17.505195, 417.0}, {68.446901, 17.505194, 416.8}, {68.446859, 17.505089, 416.6}, {68.44682, 17.504937, 416.0}, {68.446803, 17.504812, 416.0}, {68.446792, 17.50444, 416.0}, {68.446781, 17.504107, 415.6}, {68.44678, 17.503973, 415.6}, {68.446774, 17.503766, 415.2}, {68.446785, 17.50346, 415.6}, {68.446817, 17.50308, 415.8}, {68.446828, 17.50298, 415.8}, {68.446847, 17.502844, 415.6}, {68.446863, 17.502745, 415.6}, {68.446905, 17.502473, 415.0}, {68.446917, 17.502414, 415.0}, {68.446953, 17.502125, 414.2}, {68.446994, 17.501895, 414.4}, {68.447089, 17.501538, 414.8}, {68.447136, 17.501183, 414.4}, {68.447154, 17.500741, 414.6}, {68.447164, 17.500432, 414.2}, {68.447164, 17.500408, 414.2}, {68.447163, 17.500327, 414.0}, {68.447166, 17.50011, 413.6}, {68.447181, 17.499763, 414.4}, {68.447164, 17.499363, 414.2}, {68.447138, 17.499053, 413.0}, {68.447131, 17.498977, 412.8}, {68.447124, 17.498813, 412.8}, {68.447119, 17.49874, 412.8}, {68.447095, 17.498543, 412.8}, {68.447072, 17.498276, 412.4}, {68.447072, 17.498233, 412.4}, {68.447065, 17.498103, 411.8}, {68.447064, 17.4981, 411.8}, {68.447064, 17.498092, 411.2}, {68.447064, 17.498092, 411.0}, {68.447064, 17.498091, 411.0}, {68.447064, 17.49809, 410.8}, {68.447064, 17.49809, 410.8}, {68.447064, 17.49809, 410.8}, {68.447064, 17.498102, 410.8}, {68.447064, 17.498113, 410.6}, {68.447065, 17.498114, 410.6}, {68.447065, 17.498114, 410.4}, {68.447065, 17.498114, 410.4}, {68.447065, 17.498114, 410.4}, {68.447104, 17.497959, 411.6}, {68.447166, 17.497696, 412.0}, {68.447171, 17.497666, 412.0}, {68.447192, 17.497572, 412.2}, {68.447205, 17.497524, 412.4}, {68.447216, 17.497463, 412.8}, {68.44722, 17.497397, 413.0}, {68.447231, 17.497217, 413.2}, {68.447244, 17.496996, 412.4}, {68.447244, 17.496925, 411.8}, {68.447249, 17.496688, 411.2}, {68.44726, 17.496582, 411.8}, {68.447273, 17.496455, 411.8}, {68.44728, 17.49631, 411.8}, {68.447278, 17.495952, 411.8}, {68.447281, 17.495926, 411.8}, {68.447272, 17.495697, 410.8}, {68.447274, 17.495434, 411.0}, {68.447262, 17.495011, 411.6}, {68.447236, 17.494761, 411.6}, {68.447195, 17.494458, 411.4}, {68.447191, 17.494392, 411.2}, {68.447188, 17.494355, 411.0}, {68.447171, 17.49418, 410.8}, {68.44717, 17.494143, 410.8}, {68.44717, 17.494068, 410.8}, {68.447173, 17.493947, 410.6}, {68.447177, 17.493862, 410.6}, {68.44722, 17.493549, 410.2}, {68.447232, 17.493517, 410.2}, {68.447307, 17.493408, 410.0}, {68.447436, 17.493312, 410.4}, {68.447518, 17.493255, 411.0}, {68.447543, 17.493195, 411.2}, {68.447632, 17.492921, 411.6}, {68.447647, 17.492786, 412.2}, {68.44764, 17.492692, 412.8}, {68.447638, 17.492662, 413.0}, {68.447623, 17.492536, 413.2}, {68.447598, 17.492353, 413.6}, {68.44759, 17.492323, 413.6}, {68.447524, 17.492132, 413.8}, {68.447467, 17.491918, 414.0}, {68.447453, 17.491837, 414.0}, {68.447437, 17.491809, 413.8}, {68.447423, 17.491787, 413.8}, {68.44734, 17.491438, 412.4}, {68.447337, 17.491394, 412.2}, {68.44734, 17.491154, 411.6}, {68.447364, 17.490781, 411.2}, {68.447373, 17.49045, 411.2}, {68.447373, 17.490415, 411.2}, {68.447359, 17.490243, 411.2}, {68.447356, 17.490214, 411.2}, {68.447347, 17.490156, 411.4}, {68.447316, 17.489973, 411.6}, {68.447307, 17.489883, 411.6}, {68.447287, 17.489693, 411.2}, {68.447282, 17.489657, 411.0}, {68.447252, 17.489378, 411.0}, {68.447244, 17.489195, 412.2}, {68.44725, 17.489077, 413.0}, {68.447243, 17.48902, 413.0}, {68.447225, 17.488947, 412.8}, {68.447199, 17.48883, 411.0}, {68.447174, 17.488732, 410.6}, {68.447133, 17.488395, 410.0}, {68.447127, 17.488367, 410.0}, {68.447107, 17.488117, 409.4}, {68.44709, 17.488039, 409.4}, {68.44708, 17.487963, 409.2}, {68.447068, 17.487896, 409.0}, {68.447056, 17.487747, 408.8}, {68.447015, 17.487463, 408.8}, {68.446976, 17.487315, 409.2}, {68.446946, 17.487293, 410.4}, {68.446926, 17.487263, 411.6}, {68.446922, 17.487253, 411.6}, {68.446918, 17.487242, 412.2}, {68.446918, 17.487241, 412.2}, {68.446876, 17.487111, 412.4}, {68.446857, 17.487032, 412.6}, {68.446805, 17.486892, 413.4}, {68.446789, 17.486853, 413.6}, {68.446764, 17.48672, 413.8}, {68.446808, 17.486548, 413.8}, {68.446882, 17.486391, 414.0}, {68.446945, 17.486305, 413.0}, {68.446959, 17.486283, 412.6}, {68.446972, 17.486264, 412.4}, {68.447031, 17.486089, 411.6}, {68.44704, 17.486021, 411.4}, {68.44704, 17.485869, 410.4}, {68.447025, 17.485742, 409.4}, {68.447017, 17.485719, 409.2}, {68.446949, 17.485512, 409.2}, {68.446937, 17.485478, 409.2}, {68.446855, 17.485218, 409.0}, {68.446804, 17.484994, 408.4}, {68.446797, 17.484922, 408.2}, {68.446785, 17.484849, 408.0}, {68.446752, 17.484697, 407.4}, {68.446743, 17.484659, 407.4}, {68.446728, 17.484543, 407.2}, {68.446718, 17.484482, 407.2}, {68.446705, 17.484427, 407.2}, {68.446667, 17.484185, 406.6}, {68.44664, 17.483978, 406.2}, {68.44664, 17.483905, 406.0}, {68.446611, 17.48369, 405.8}, {68.446599, 17.483644, 405.8}, {68.446586, 17.483537, 405.8}, {68.44657, 17.483335, 405.4}, {68.446533, 17.483108, 406.4}, {68.446489, 17.482931, 407.0}, {68.446482, 17.482895, 407.2}, {68.446472, 17.482823, 407.4}, {68.44644, 17.48265, 407.8}, {68.44642, 17.482575, 408.0}, {68.446398, 17.482464, 408.0}, {68.446377, 17.482348, 408.0}, {68.446352, 17.482274, 408.0}, {68.446338, 17.48223, 408.4}, {68.4463, 17.482078, 409.6}, {68.446291, 17.482059, 409.6}, {68.446269, 17.482024, 409.6}, {68.446235, 17.48199, 409.0}, {68.446235, 17.481984, 409.4}, {68.446237, 17.481983, 409.2}, {68.446237, 17.481983, 408.8}, {68.446215, 17.48188, 409.0}, {68.446154, 17.481632, 409.4}, {68.446105, 17.48157, 409.6}, {68.446078, 17.481563, 409.8}, {68.446027, 17.481566, 409.2}, {68.446025, 17.481566, 409.2}, {68.446024, 17.481569, 409.0}, {68.446019, 17.481577, 408.8}, {68.446019, 17.481569, 408.4}, {68.44602, 17.48157, 408.4}, {68.44602, 17.481557, 409.0}, {68.44602, 17.481557, 409.6}, {68.446019, 17.48155, 409.6}, {68.445998, 17.481404, 410.6}, {68.445992, 17.481373, 411.0}, {68.445966, 17.481309, 411.0}, {68.445922, 17.481234, 410.8}, {68.445884, 17.48115, 411.0}, {68.445848, 17.481051, 411.2}, {68.445827, 17.481028, 411.2}, {68.445759, 17.480866, 411.0}, {68.445681, 17.480708, 410.8}, {68.4456, 17.480636, 410.6}, {68.445518, 17.480534, 410.8}, {68.445507, 17.480517, 410.8}, {68.445441, 17.48042, 411.2}, {68.445389, 17.480349, 411.6}, {68.445348, 17.480288, 411.4}, {68.445281, 17.480201, 411.0}, {68.445234, 17.480145, 410.8}, {68.445224, 17.480115, 411.0}, {68.445184, 17.480009, 411.4}, {68.445124, 17.479866, 411.0}, {68.445051, 17.479795, 411.0}, {68.445016, 17.479757, 411.4}, {68.445008, 17.479731, 411.8}, {68.444996, 17.479684, 412.4}, {68.444977, 17.479663, 413.0}, {68.444959, 17.479656, 414.0}, {68.444917, 17.479652, 414.4}, {68.444873, 17.479617, 415.4}, {68.44484, 17.479572, 416.8}, {68.444817, 17.479547, 418.0}, {68.444796, 17.479523, 419.2}, {68.444793, 17.479521, 419.4}, {68.444778, 17.479521, 419.6}, {68.444753, 17.479516, 419.8}, {68.444742, 17.479512, 420.2}, {68.444731, 17.479507, 420.6}, {68.444694, 17.479499, 421.8}, {68.444651, 17.479483, 422.4}, {68.444615, 17.479493, 422.8}, {68.444584, 17.479522, 423.8}, {68.444578, 17.479524, 423.8}, {68.44457, 17.47953, 424.0}, {68.444503, 17.479564, 423.8}, {68.444477, 17.47951, 424.6}, {68.444474, 17.479507, 425.0}, {68.444458, 17.479501, 425.6}, {68.444443, 17.479508, 426.0}, {68.444424, 17.479589, 427.2}, {68.444419, 17.479612, 427.4}, {68.444359, 17.479659, 427.2}, {68.444323, 17.479639, 428.4}, {68.44431, 17.479675, 429.2}, {68.444305, 17.479695, 429.6}, {68.444271, 17.479721, 430.6}, {68.44425, 17.479738, 430.8}, {68.444226, 17.479741, 431.6}, {68.444216, 17.479738, 432.0}, {68.444173, 17.479701, 432.4}, {68.44409, 17.479655, 433.0}, {68.44405, 17.479604, 434.4}, {68.444034, 17.479597, 434.8}, {68.444021, 17.479675, 435.4}, {68.444012, 17.479716, 435.8}, {68.444004, 17.479735, 436.2}, {68.443985, 17.47977, 436.8}, {68.443957, 17.479805, 437.8}, {68.443952, 17.479797, 438.2}, {68.443937, 17.479783, 438.8}, {68.443917, 17.479765, 439.2}, {68.443888, 17.479741, 439.2}, {68.443842, 17.479695, 439.4}, {68.443765, 17.479693, 439.8}, {68.443724, 17.479671, 440.2}, {68.443709, 17.479654, 440.4}, {68.443634, 17.479541, 439.8}, {68.443587, 17.479554, 439.8}, {68.44357, 17.479571, 440.2}, {68.443544, 17.479654, 441.4}, {68.443533, 17.479707, 442.4}, {68.443528, 17.479708, 442.8}, {68.44352, 17.479704, 443.0}, {68.443503, 17.479698, 443.6}, {68.443484, 17.47968, 444.8}, {68.443478, 17.479666, 445.0}, {68.443456, 17.479606, 445.2}, {68.443422, 17.479537, 446.0}, {68.443404, 17.479522, 446.6}, {68.443395, 17.479525, 446.8}, {68.443388, 17.479529, 447.2}, {68.443346, 17.479538, 448.2}, {68.443333, 17.479537, 448.2}, {68.443265, 17.479569, 449.6}, {68.443257, 17.47957, 449.6}, {68.44321, 17.479537, 450.8}, {68.443202, 17.479529, 451.2}, {68.44312, 17.479489, 451.4}, {68.443083, 17.479538, 452.0}, {68.443061, 17.479547, 453.2}, {68.443052, 17.479545, 453.8}, {68.443029, 17.479528, 454.6}, {68.443009, 17.479496, 455.6}, {68.442994, 17.479481, 456.2}, {68.442979, 17.47948, 456.4}, {68.442953, 17.479464, 456.6}, {68.442941, 17.479453, 457.0}, {68.442919, 17.479454, 457.6}, {68.442859, 17.479503, 458.8}, {68.442805, 17.47952, 459.8}, {68.442784, 17.47956, 460.8}, {68.442763, 17.479564, 462.0}, {68.442737, 17.479545, 463.2}, {68.442728, 17.479553, 464.2}, {68.442723, 17.479554, 464.4}, {68.442706, 17.479578, 465.6}, {68.442692, 17.47959, 466.0}, {68.44268, 17.479595, 466.6}, {68.442659, 17.479579, 467.8}, {68.442653, 17.479582, 468.4}, {68.442634, 17.479597, 468.6}, {68.442627, 17.479597, 469.0}, {68.442599, 17.4796, 470.2}, {68.44258, 17.479604, 470.8}, {68.442574, 17.479612, 471.2}, {68.442551, 17.479651, 472.2}, {68.442526, 17.479651, 473.2}, {68.442506, 17.479645, 474.4}, {68.442486, 17.479658, 475.4}, {68.442437, 17.47966, 476.4}, {68.442426, 17.479676, 477.0}, {68.442408, 17.479689, 477.6}, {68.442391, 17.479708, 477.8}, {68.442384, 17.479775, 478.6}, {68.442383, 17.479823, 479.8}, {68.442371, 17.479912, 480.6}, {68.442372, 17.47995, 481.0}, {68.442375, 17.479992, 482.2}, {68.442372, 17.480059, 483.4}, {68.442369, 17.480084, 483.4}, {68.44234, 17.480145, 484.4}, {68.442325, 17.480175, 484.8}, {68.442312, 17.48021, 485.0}, {68.442293, 17.480264, 485.8}, {68.442277, 17.480283, 486.0}, {68.442251, 17.480329, 486.8}, {68.442214, 17.480367, 488.2}, {68.442179, 17.480359, 489.4}, {68.442128, 17.480341, 490.4}, {68.442119, 17.480339, 490.6}, {68.442079, 17.480363, 491.6}, {68.442025, 17.480399, 492.4}, {68.442012, 17.48043, 492.8}, {68.441997, 17.480453, 494.0}, {68.44197, 17.480501, 495.4}, {68.441942, 17.48051, 496.6}, {68.441902, 17.480556, 497.6}, {68.441876, 17.48059, 498.8}, {68.441864, 17.480577, 499.4}, {68.441855, 17.480528, 500.0}, {68.441826, 17.480437, 500.4}, {68.441795, 17.480364, 501.0}, {68.441795, 17.480365, 501.2}, {68.44179, 17.480356, 501.4}, {68.441786, 17.480322, 501.6}, {68.441787, 17.480322, 501.2}, {68.441788, 17.480322, 501.2}, {68.441792, 17.480326, 501.2}, {68.441792, 17.480328, 501.4}, {68.441792, 17.480344, 501.2}, {68.441789, 17.480359, 501.4}, {68.441789, 17.480367, 501.2}, {68.441789, 17.480371, 501.2}, {68.441789, 17.480373, 501.2}, {68.441789, 17.480379, 501.2}, {68.441793, 17.480397, 501.4}, {68.441793, 17.480397, 501.4}, {68.441793, 17.480397, 501.4}, {68.441793, 17.480397, 501.6}, {68.441794, 17.480384, 501.4}, {68.441793, 17.480385, 501.4}, {68.441794, 17.480391, 501.4}, {68.441796, 17.480391, 501.2}, {68.441805, 17.480393, 501.0}, {68.441814, 17.480396, 500.8}, {68.441816, 17.480412, 501.4}, {68.441832, 17.480468, 500.4}, {68.441844, 17.480491, 500.0}, {68.441853, 17.480512, 499.6}, {68.441899, 17.480579, 499.0}, {68.441936, 17.480555, 497.6}, {68.44196, 17.480482, 496.6}, {68.441989, 17.480398, 495.4}, {68.442, 17.480385, 495.2}, {68.44201, 17.480382, 494.6}, {68.442019, 17.480371, 494.0}, {68.442069, 17.480338, 492.8}, {68.442108, 17.48031, 491.8}, {68.44212, 17.480304, 491.4}, {68.44217, 17.480326, 490.6}, {68.442221, 17.480332, 489.4}, {68.442233, 17.480325, 489.0}, {68.44227, 17.48028, 488.0}, {68.442293, 17.480238, 487.0}, {68.44233, 17.480142, 486.0}, {68.442337, 17.480123, 486.0}, {68.442348, 17.48005, 484.6}, {68.442354, 17.479987, 483.6}, {68.442355, 17.479952, 483.0}, {68.442357, 17.479912, 482.4}, {68.442366, 17.479843, 481.2}, {68.44238, 17.47978, 480.2}, {68.442385, 17.479723, 479.4}, {68.442389, 17.479691, 478.8}, {68.442397, 17.479666, 478.4}, {68.442422, 17.479642, 477.8}, {68.442444, 17.479625, 477.4}, {68.442477, 17.479606, 476.8}, {68.44251, 17.479599, 475.6}, {68.442546, 17.479589, 474.6}, {68.442568, 17.479568, 473.2}, {68.442597, 17.479541, 472.0}, {68.44263, 17.47954, 470.8}, {68.442654, 17.479526, 469.8}, {68.442674, 17.47952, 469.0}, {68.442685, 17.479519, 468.6}, {68.442707, 17.479505, 467.4}, {68.442739, 17.479476, 466.0}, {68.442757, 17.479486, 465.2}, {68.442766, 17.479501, 464.6}, {68.442796, 17.479519, 463.2}, {68.44282, 17.479485, 462.2}, {68.442832, 17.479471, 461.6}, {68.442845, 17.479467, 460.8}, {68.442889, 17.479478, 459.6}, {68.442924, 17.479472, 459.0}, {68.442944, 17.479463, 458.4}, {68.442981, 17.479406, 457.4}, {68.443008, 17.479344, 456.2}, {68.443017, 17.479324, 455.6}, {68.443027, 17.479307, 455.0}, {68.443061, 17.479257, 453.8}, {68.443088, 17.479226, 452.6}, {68.443131, 17.479221, 451.6}, {68.443158, 17.479248, 450.8}, {68.44317, 17.479264, 450.4}, {68.443251, 17.479334, 449.0}, {68.443381, 17.479469, 448.6}, {68.443411, 17.4795, 448.0}, {68.443456, 17.479545, 447.0}, {68.443487, 17.479584, 446.0}, {68.44351, 17.479612, 445.0}, {68.443517, 17.479633, 444.8}, {68.443531, 17.479656, 444.6}, {68.443544, 17.479631, 444.2}, {68.443549, 17.479605, 443.6}, {68.443567, 17.479546, 442.6}, {68.443611, 17.479484, 441.2}, {68.443642, 17.479479, 440.4}, {68.44373, 17.479603, 440.8}, {68.443782, 17.479651, 440.8}, {68.443869, 17.479645, 440.4}, {68.443883, 17.479651, 440.2}, {68.443975, 17.47975, 439.6}, {68.443993, 17.479711, 438.6}, {68.444023, 17.479626, 437.4}, {68.444027, 17.479595, 437.2}, {68.444039, 17.479537, 437.0}, {68.444065, 17.479519, 436.4}, {68.444092, 17.479521, 436.0}, {68.444117, 17.479529, 435.2}, {68.444169, 17.47957, 434.2}, {68.444234, 17.479603, 433.4}, {68.444248, 17.479607, 433.0}, {68.444327, 17.479624, 432.0}, {68.444348, 17.479601, 431.0}, {68.444361, 17.479609, 430.4}, {68.444401, 17.479623, 428.8}, {68.444415, 17.479619, 428.6}, {68.444428, 17.479615, 428.4}, {68.444463, 17.479632, 428.2}, {68.444466, 17.479608, 427.8}, {68.444469, 17.479571, 427.4}, {68.44448, 17.479503, 426.8}, {68.444514, 17.479509, 426.4}, {68.444545, 17.479529, 425.6}, {68.444556, 17.47952, 425.2}, {68.444591, 17.479491, 425.0}, {68.444685, 17.479428, 424.4}, {68.444697, 17.47943, 424.0}, {68.444776, 17.479482, 423.0}, {68.44479, 17.479487, 422.6}, {68.444802, 17.479489, 421.8}, {68.444836, 17.479509, 420.8}, {68.444873, 17.479531, 419.6}, {68.444904, 17.479572, 418.4}, {68.444923, 17.479614, 417.4}, {68.444963, 17.479709, 416.2}, {68.444967, 17.479727, 416.2}, {68.444984, 17.479757, 416.4}, {68.445026, 17.479898, 416.6}, {68.445035, 17.479925, 416.2}, {68.445054, 17.480009, 415.2}, {68.44507, 17.480058, 414.2}, {68.445083, 17.480099, 413.0}, {68.445103, 17.480153, 412.0}, {68.445105, 17.480151, 411.6}, {68.445106, 17.48015, 411.4}, {68.44511, 17.48014, 411.2}, {68.445112, 17.480141, 411.4}, {68.445113, 17.48013, 411.4}, {68.445113, 17.48013, 411.4}, {68.445115, 17.480143, 411.2}, {68.445117, 17.480145, 412.2}, {68.445112, 17.480136, 412.8}, {68.445108, 17.48002, 412.8}, {68.445108, 17.479818, 412.4}, {68.445134, 17.479688, 412.2}, {68.445154, 17.479592, 411.6}, {68.445194, 17.479575, 410.4}, {68.445214, 17.479573, 409.8}, {68.445232, 17.479559, 409.4}, {68.44524, 17.479549, 408.8}, {68.445263, 17.479518, 408.0}, {68.445285, 17.479453, 406.8}, {68.445285, 17.479426, 406.8}, {68.445289, 17.4793, 405.8}, {68.445287, 17.47928, 405.6}, {68.44527, 17.479179, 405.4}, {68.445262, 17.479034, 405.0}, {68.445256, 17.478956, 404.6}, {68.445252, 17.478898, 404.2}, {68.445256, 17.47883, 403.8}, {68.445282, 17.478753, 403.0}, {68.445323, 17.478718, 402.0}, {68.44533, 17.478721, 402.0}, {68.445338, 17.478718, 401.8}, {68.445368, 17.478749, 401.4}, {68.445395, 17.478769, 401.0}, {68.445411, 17.478783, 401.0}, {68.445486, 17.478831, 400.4}, {68.44555, 17.478888, 400.2}, {68.445572, 17.478924, 399.6}, {68.445612, 17.478983, 399.4}, {68.445634, 17.478978, 398.4}, {68.445653, 17.478928, 398.2}, {68.445657, 17.478894, 398.0}, {68.445657, 17.478811, 397.2}, {68.445654, 17.478695, 396.4}, {68.445654, 17.47868, 396.2}, {68.445645, 17.478638, 395.8}, {68.445628, 17.47855, 395.0}, {68.445616, 17.478525, 394.8}, {68.445603, 17.478406, 394.0}, {68.445598, 17.478375, 393.6}, {68.445584, 17.478292, 392.8}, {68.445541, 17.478137, 391.8}, {68.445525, 17.478089, 391.6}, {68.445491, 17.477993, 390.6}, {68.445453, 17.477864, 389.6}, {68.445419, 17.477701, 388.4}, {68.445418, 17.477628, 387.8}, {68.44542, 17.477618, 387.6}, {68.44542, 17.477614, 387.4}, {68.44542, 17.4776, 387.2}, {68.445425, 17.477423, 386.2}, {68.445422, 17.477393, 385.8}, {68.445414, 17.477316, 385.0}, {68.445395, 17.477233, 384.0}, {68.445384, 17.477215, 383.6}, {68.445347, 17.47716, 382.8}, {68.445338, 17.477145, 382.2}, {68.445293, 17.477097, 381.6}, {68.445281, 17.477076, 381.4}, {68.445233, 17.476975, 380.0}, {68.445193, 17.476931, 379.0}, {68.445143, 17.476892, 377.8}, {68.445098, 17.476835, 376.6}, {68.445039, 17.476714, 375.0}, {68.444993, 17.476571, 373.4}, {68.444917, 17.476273, 372.0}, {68.444899, 17.476214, 371.2}, {68.444881, 17.476155, 370.6}, {68.444848, 17.476046, 369.4}, {68.444816, 17.475941, 369.0}, {68.444787, 17.475826, 368.2}, {68.444765, 17.475661, 366.8}, {68.444761, 17.475626, 366.2}, {68.44476, 17.475614, 365.6}, {68.444764, 17.475618, 365.6}, {68.444766, 17.475626, 365.4}, {68.444772, 17.475501, 365.2}, {68.444775, 17.475438, 365.2}, {68.444784, 17.475085, 364.8}, {68.444794, 17.474804, 365.2}, {68.444739, 17.474542, 365.8}, {68.444688, 17.474397, 366.0}, {68.444626, 17.474236, 366.6}, {68.444613, 17.474208, 366.8}, {68.444592, 17.474158, 367.2}, {68.444574, 17.474111, 367.4}, {68.444544, 17.473991, 367.8}, {68.444484, 17.473647, 368.0}, {68.444449, 17.473404, 367.8}, {68.444432, 17.47336, 367.6}, {68.444346, 17.473197, 367.6}, {68.444231, 17.473054, 368.2}, {68.444203, 17.473022, 368.4}, {68.44416, 17.472947, 368.6}, {68.444096, 17.472872, 368.8}, {68.444032, 17.472798, 369.0}, {68.443973, 17.472731, 368.0}, {68.443943, 17.472697, 367.6}, {68.443896, 17.472653, 366.6}, {68.443883, 17.472631, 366.2}, {68.443765, 17.472468, 365.4}, {68.44372, 17.472424, 365.2}, {68.443696, 17.472387, 365.0}, {68.443663, 17.472364, 364.4}, {68.443615, 17.47233, 364.0}, {68.443543, 17.472294, 363.4}, {68.443516, 17.472267, 363.2}, {68.443505, 17.472257, 363.0}, {68.443407, 17.47217, 361.8}, {68.443349, 17.472102, 360.8}, {68.443258, 17.471935, 359.8}, {68.443161, 17.471733, 358.8}, {68.443125, 17.47166, 358.8}, {68.443047, 17.471577, 358.2}, {68.442973, 17.471535, 357.6}, {68.442902, 17.471522, 357.2}, {68.442849, 17.471516, 356.6}, {68.442799, 17.471495, 355.4}, {68.442789, 17.471499, 355.2}, {68.44272, 17.471362, 354.8}, {68.442742, 17.471175, 354.2}, {68.442751, 17.47115, 353.8}, {68.442805, 17.471052, 353.2}, {68.442865, 17.470991, 352.2}, {68.44292, 17.470952, 351.0}, {68.443014, 17.470912, 350.2}, {68.44305, 17.470906, 350.0}, {68.44309, 17.470804, 349.0}, {68.443084, 17.470783, 348.8}, {68.443069, 17.470748, 348.2}, {68.443035, 17.470695, 347.6}, {68.442973, 17.470618, 346.4}, {68.442916, 17.470544, 345.8}, {68.442889, 17.470518, 345.2}, {68.442815, 17.47042, 344.2}, {68.442788, 17.470383, 343.8}, {68.44274, 17.470317, 343.0}, {68.442655, 17.47024, 341.8}, {68.442629, 17.470245, 341.6}, {68.442509, 17.470247, 340.8}, {68.442481, 17.470269, 340.8}, {68.442384, 17.470365, 339.6}, {68.442344, 17.470388, 339.0}, {68.442294, 17.470402, 338.6}, {68.442195, 17.470402, 338.2}, {68.44212, 17.470353, 337.6}, {68.442065, 17.470308, 337.0}, {68.441986, 17.470289, 336.4}, {68.441896, 17.470289, 335.8}, {68.441844, 17.470289, 335.4}, {68.441832, 17.470289, 335.2}, {68.441752, 17.470301, 334.0}, {68.441729, 17.470311, 333.6}, {68.441691, 17.47031, 332.8}, {68.441624, 17.470323, 331.6}, {68.441613, 17.470318, 331.6}, {68.44159, 17.470322, 331.4}, {68.441458, 17.470336, 330.8}, {68.441445, 17.470336, 330.6}, {68.441381, 17.470344, 329.6}, {68.441319, 17.470364, 329.2}, {68.441178, 17.470476, 328.6}, {68.441152, 17.470507, 328.6}, {68.44113, 17.470534, 328.4}, {68.441072, 17.470592, 327.4}, {68.441033, 17.470632, 326.8}, {68.441018, 17.470642, 326.4}, {68.440938, 17.470676, 325.2}, {68.440881, 17.470663, 324.8}, {68.440783, 17.47059, 324.2}, {68.440757, 17.470529, 323.6}, {68.44072, 17.47045, 323.0}, {68.440709, 17.470427, 322.6}, {68.440671, 17.470331, 321.8}, {68.440661, 17.470306, 321.6}, {68.440528, 17.469937, 321.0}, {68.440407, 17.469656, 321.0}, {68.440397, 17.469629, 320.8}, {68.440323, 17.469483, 320.6}, {68.44031, 17.469482, 320.4}, {68.440307, 17.46948, 320.4}, {68.440306, 17.469421, 320.2}, {68.440306, 17.469421, 320.2}, {68.440304, 17.469422, 319.8}, {68.440303, 17.469422, 319.6}, {68.440298, 17.469418, 319.6}, {68.440298, 17.469418, 319.6}, {68.440298, 17.469418, 319.4}, {68.440298, 17.469419, 319.4}, {68.440298, 17.469419, 319.4}, {68.440298, 17.46942, 319.4}, {68.440303, 17.469417, 319.4}, {68.440303, 17.469417, 319.2}
};

glm::vec3 calculateColor(const glm::vec3& p1, const glm::vec3& p2) {
    // Getting the elevation change over the horizontal distance
    float horizontalDistance = glm::distance(glm::vec2(p1.x, p1.z), glm::vec2(p2.x, p2.z));
    float steepness;
    if (horizontalDistance > 0) {
        steepness = (p2.y - p1.y) / horizontalDistance;
    } else {
        steepness = 0.0f;
    }

    // Boundaries for the colors
    // Moderate steepness
    const float yellowThreshold = 0.5f;
    // High steepness
    const float redThreshold = 1.0f;    

    if (std::abs(steepness) >= redThreshold) {
        return glm::vec3(1.0f, 0.0f, 0.0f); // red
    } else if (std::abs(steepness) >= yellowThreshold) {
        return glm::vec3(0.839f, 0.827f, 0.09f); // yellow
    } else {
        return glm::vec3(0.68f, 0.85f, 0.90f); // light blue
    }
}

// Store rendered path segments - we use this as a buffer from the hikingPath and what is being rendered
std::vector<glm::vec3> renderedPath;

void drawHikingPath(const std::vector<glm::vec3>& path, GLuint pathShader, GLuint pathVAO) {
    glUseProgram(pathShader);
    glBindVertexArray(pathVAO);

    // temporary buffer for the entire path with per vertex colors
    std::vector<glm::vec3> vertices;
    std::vector<glm::vec3> colors;

    for (size_t i = 1; i < path.size(); ++i) {
        // Adding the vertices of the segment
        vertices.push_back(path[i - 1]);
        vertices.push_back(path[i]);

        // colors for the vertices based on steepness
        glm::vec3 color1 = calculateColor(path[i - 1], path[i]);
        glm::vec3 color2;

        // To avoid out of subscript error, only start once there is enough rendered
        if (i + 1 < path.size()) {
            color2 = calculateColor(path[i], path[i + 1]); // using the current and next point
        }
        else {
            color2 = calculateColor(path[i], path[i]); // use the current point twice for the last segment, this is for the very start when the list is not populated yet
        }


        colors.push_back(color1);
        colors.push_back(color2);
    }

    // for the vertex positions and colors
    GLuint vbo[2];
    glGenBuffers(2, vbo);

    // load vertex positions
    glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);
    glBufferData(GL_ARRAY_BUFFER, vertices.size() * sizeof(glm::vec3), vertices.data(), GL_DYNAMIC_DRAW);
    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, sizeof(glm::vec3), (void*)0);
    glEnableVertexAttribArray(0);

    // load vertex colors
    glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);
    glBufferData(GL_ARRAY_BUFFER, colors.size() * sizeof(glm::vec3), colors.data(), GL_DYNAMIC_DRAW);
    glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, sizeof(glm::vec3), (void*)0);
    glEnableVertexAttribArray(1);

    // drawing the path in segments here
    glDrawArrays(GL_LINES, 0, vertices.size());
    
    // cleaning up 
    glDeleteBuffers(2, vbo);
       
    glBindVertexArray(0);
    glUseProgram(0);
}

// Callbacks
// For when the window is resized to adjust the viewport
void framebuffer_size_callback(GLFWwindow* window, int width, int height);
// Handle keyboard input for the window i.e press escape to close the window
void processInput(GLFWwindow* window);

void mouse_callback(GLFWwindow* window, double xpos, double ypos);
void scroll_callback(GLFWwindow* window, double xoffset, double yoffset);

// Window constraints 
const unsigned int SCR_WIDTH = 1920; // 800
const unsigned int SCR_HEIGHT = 1080; // 600

// Camera 
Camera camera(glm::vec3(0.0f, 0.0f, 3.0f));
float lastX = SCR_WIDTH / 2.0f;
float lastY = SCR_HEIGHT / 2.0f;
bool firstMouse = true;

// Time
float deltaTime = 0.0f; // delta time between current and last frame
float lastFrame = 0.0f;

// lookat, perspective
// terrain class, shader manager

// Make shader manager for vertex shader and fragment shader

// VAO - vertex array object
// VAO Acts as a 'wrapper around' all of the vertex buffer objects
// Important that we glBindVertexArray, this means select the VAO we want to use

// VBO - vertex buffer object

// Shader Managers
VertexShaderManager vertexShaderManager;
FragmentShaderManager fragmentShaderManager;
Heightmap heightMap;


int main()
{
    if (!glfwInit()) {
        std::cerr << "Error initializing GLFW" << std::endl;
        return -1;
    }

    // Creating the window and applying the OpenGL context to this window
    GLFWwindow* window = glfwCreateWindow(SCR_WIDTH, SCR_HEIGHT, "Hiking Simulation", NULL, NULL);
    if (!window)
    {
        std::cout << "Failed to create GLFW window" << std::endl;
        glfwTerminate();
        return -1;
    }
    glfwMakeContextCurrent(window);
    glfwSetFramebufferSizeCallback(window, framebuffer_size_callback);
    glfwSetCursorPosCallback(window, mouse_callback);
    glfwSetScrollCallback(window, scroll_callback);

    // Tell GLFW to capure the mouse
    glfwSetInputMode(window, GLFW_CURSOR, GLFW_CURSOR_DISABLED);

    glEnable(GL_DEPTH_TEST);

    glPolygonMode(GL_FRONT_AND_BACK, GL_FILL);
    //glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);

    // Initializes GLEW, for the ability to access the functions with it
    GLenum err = glewInit();
    if (GLEW_OK != err)
    {
        std::cerr << "Error: " << glewGetErrorString(err) << std::endl;
        glfwTerminate();
        return -1;
    }

    // Heightmaps paths
    // "resources/heightmaps/hydedata_svarthvitt.png"
    // "resources/heightmaps/hydedata.png"
    heightRet heightData = heightMap.initialize("hydedata_svarthvitt.png");

    if (heightData.vertices.empty()) {
        cout << "Failed to load the height map data" << endl;
        return -1;
    }
    else {
        std::cout << "Successfully loaded heightmap data!" << std::endl;
        std::cout << "Number of vertices: " << heightData.vertices.size() / 3 << std::endl;
        std::cout << "Number of indices: " << heightData.indices.size() << std::endl;
    }

    // Creates the OpenGL shader programs
    GLuint shaderProgram = glCreateProgram();
    GLuint pathShader = glCreateProgram();

    // Shaders - for the heightmap / terrain

    // Heightmap
    vertexShaderManager.initialize("vertexShader.glsl");
    fragmentShaderManager.initialize("fragmentShader.glsl");
    // Attach the Vertex and Fragment shaders to the shader program
    glAttachShader(shaderProgram, vertexShaderManager.getShaderId());
    glAttachShader(shaderProgram, fragmentShaderManager.getShaderId());
    // Link the shaders into the complete shader program to run on the GPU
    glLinkProgram(shaderProgram);

    // loading the lookup texture for extra colors - so we can use it for giving the terrain colors
    unsigned int lookupTexture = 0;
    int width, height, nrChannels;
    unsigned char* data = stbi_load("resources/heightmaps/heightmap_lookup.png", &width, &height, &nrChannels, 0);
    if (data) {
        glGenTextures(1, &lookupTexture);
        glActiveTexture(GL_TEXTURE0);
        glBindTexture(GL_TEXTURE_2D, lookupTexture);

        GLenum format = (nrChannels == 4) ? GL_RGBA : GL_RGB;
        glTexImage2D(GL_TEXTURE_2D, 0, format, width, height, 0, format, GL_UNSIGNED_BYTE, data);

        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);

        stbi_image_free(data);
        std::cout << "Texture loaded" << std::endl;
    }
    else {
        std::cerr << "Failed to load texture" << std::endl;
        glGenTextures(1, &lookupTexture);
        glActiveTexture(GL_TEXTURE0);
        glBindTexture(GL_TEXTURE_2D, lookupTexture);

        unsigned char defaultTexture[4] = { 255, 255, 255, 255 };
        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, 1, 1, 0, GL_RGBA, GL_UNSIGNED_BYTE, defaultTexture);
    }

    // setting the shader program and bindinding the texture
    glUseProgram(shaderProgram);
    int lookupLoc = glGetUniformLocation(shaderProgram, "lookup");
    if (lookupLoc != -1) {
        glUniform1i(lookupLoc, 0);
    }
    else {
        std::cerr << "'lookup' not found in shader." << std::endl;
    }

    // Generate a Vertex Array Object (VAO), a Vertex Buffer Object (VBO) and a Element Array Buffer Object
    GLuint terrainVAO, terrainVBO, terrainEBO;
    glGenVertexArrays(1, &terrainVAO);
    // Bind means that we are 'selecting the active buffer object' that we want to work with
    glBindVertexArray(terrainVAO);

    glGenBuffers(1, &terrainVBO);
    // Bind or 'select' the VBO as the active buffer in the array buffer target
    glBindBuffer(GL_ARRAY_BUFFER, terrainVBO);
    // Copy the vertex data into the buffer memory on the GPU
    glBufferData(GL_ARRAY_BUFFER, 
        heightData.vertices.size() * sizeof(float), // The size of the vertices buffer -> if too much change to int
        &heightData.vertices[0], 
        GL_STATIC_DRAW
    );
    // The Vertex attribute pointer tells us how to intepret the vertex data, as this will vary
    // Here each vertex has 3 GL_FLOAT values and that there is not additional data with them
    glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 3 * sizeof(float), (void*)0);
    // Enables and sets the vertex array attribute array at index 0
    glEnableVertexAttribArray(0);

    glGenBuffers(1, &terrainEBO);
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, terrainEBO);
    glBufferData(GL_ELEMENT_ARRAY_BUFFER,
        heightData.indices.size() * sizeof(unsigned),
        &heightData.indices[0],
        GL_STATIC_DRAW
    );

    glBindVertexArray(0);

    // Process hiker path
    // Convert the hiking path to terrain coordinates
    // We can set the scale and shift if we want to fit better with the terrain
    float yScale = 1.0f; 
    float yShift = 0.0f;
    float horizontalScale = 1.0f; // If the terrain is scaled 1.0 default no scaling

    convertedHikePath = processHikePath(hikePath, heightData.mapWidth, heightData.mapHeight, yScale, yShift, heightData, horizontalScale);

    // Shaders - Path 
    vertexShaderManager.initialize("pathVertex.glsl");
    fragmentShaderManager.initialize("pathFragment.glsl");
    glAttachShader(pathShader, vertexShaderManager.getShaderId());
    glAttachShader(pathShader, fragmentShaderManager.getShaderId());
    glLinkProgram(pathShader);

    GLuint pathVAO, pathVBO;
    glGenVertexArrays(1, &pathVAO);
    glBindVertexArray(pathVAO);

    // Simulation parameters
    size_t currentPointIndex = 0;
    const float updateInterval = 0.03f; // Time in seconds between updates
    auto lastUpdateTime = std::chrono::high_resolution_clock::now();

    // Simulation loop, this is where the drawing happens
    while (!glfwWindowShouldClose(window))
    {
        float currentFrame = static_cast<float>(glfwGetTime());
        deltaTime = currentFrame - lastFrame;
        lastFrame = currentFrame;

        // Handle keyboard input
        processInput(window);

        glClearColor(0.094f, 0.737f, 0.812f, 0.0f); // Acts as background color
        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // Clear the screen and uses the selected color above
      
        glUseProgram(shaderProgram);
        // world transformation
        glm::mat4 model = glm::mat4(1.0f);
        glUniformMatrix4fv(glGetUniformLocation(shaderProgram, "model"), 1, GL_FALSE, &model[0][0]);
        // camera/view transformation
        glm::mat4 view = camera.GetViewMatrix();
        glUniformMatrix4fv(glGetUniformLocation(shaderProgram, "view"), 1, GL_FALSE, &view[0][0]);
        // pass projection matrix to shader (note that in this case it could change every frame)
        glm::mat4 projection = glm::perspective(glm::radians(camera.Zoom), (float)SCR_WIDTH / (float)SCR_HEIGHT, 0.1f, 5000.0f);
        glUniformMatrix4fv(glGetUniformLocation(shaderProgram, "projection"), 1, GL_FALSE, &projection[0][0]);

        // Tells the program which shader program is being used
        // The one we made previously
        //glUseProgram(shaderProgram);
        glBindVertexArray(terrainVAO); // Binds the VAO, making it the current active vertex array
        for (unsigned int strip = 0; strip < heightData.NUM_STRIPS; ++strip) {
            glDrawElements(GL_TRIANGLE_STRIP,
                heightData.NUM_VERTS_PER_STRIP,
                GL_UNSIGNED_INT,
                (void*)(sizeof(unsigned)
                    * (heightData.NUM_VERTS_PER_STRIP)
                    * strip));
        }

        // Render path
        glUseProgram(pathShader);
        glUniformMatrix4fv(glGetUniformLocation(pathShader, "model"), 1, GL_FALSE, &model[0][0]);
        glUniformMatrix4fv(glGetUniformLocation(pathShader, "view"), 1, GL_FALSE, &view[0][0]);
        glUniformMatrix4fv(glGetUniformLocation(pathShader, "projection"), 1, GL_FALSE, &projection[0][0]);
        // If we want the color of the path constant without steepness
        //glUniform4f(glGetUniformLocation(pathShader, "pathColor"), 0.68f, 0.85f, 0.90f, 1.0f); 
        glLineWidth(10.0f);
        
        glBindVertexArray(pathVAO);

        // Draw the rendered path so far
        drawHikingPath(renderedPath, pathShader, pathVAO);

        // Get the current time
        auto now = std::chrono::high_resolution_clock::now();
        std::chrono::duration<float> elapsedTime = now - lastUpdateTime;

        // wait to update the rendered path until the set time has gone
        if (elapsedTime.count() >= updateInterval && currentPointIndex < convertedHikePath.size()) {
            // Adding the next point to the rendered path
            renderedPath.push_back(convertedHikePath[currentPointIndex]);
            currentPointIndex++;
            lastUpdateTime = now; // resetting the time 
        }

        glfwSwapBuffers(window); // Swaps the color buffers to display
        glfwPollEvents(); // Finally process events, like keyboard inputs
    }
	
    // Cleanup and release
    glDeleteProgram(shaderProgram);
    glDeleteProgram(pathShader);
    glDeleteVertexArrays(1, &terrainVAO);
    glDeleteBuffers(1, &terrainVBO);
    glDeleteBuffers(1, &terrainEBO);

    glDeleteVertexArrays(1, &pathVAO);
    glDeleteBuffers(1, &pathVBO);

    glfwTerminate();

    return 0;
}

// the key functions, ex. if you want to have your camera to move
void processInput(GLFWwindow* window)
{
    float cameraSpeed = 2.5f * deltaTime;

    if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)
        glfwSetWindowShouldClose(window, true);
    if (glfwGetKey(window, GLFW_KEY_W) == GLFW_PRESS)
        camera.ProcessKeyboard(FORWARD, deltaTime);
    if (glfwGetKey(window, GLFW_KEY_S) == GLFW_PRESS)
        camera.ProcessKeyboard(BACKWARD, deltaTime);
    if (glfwGetKey(window, GLFW_KEY_A) == GLFW_PRESS)
        camera.ProcessKeyboard(LEFT, deltaTime);
    if (glfwGetKey(window, GLFW_KEY_D) == GLFW_PRESS)
        camera.ProcessKeyboard(RIGHT, deltaTime);
}

void framebuffer_size_callback(GLFWwindow* window, int width, int height)
{
    glViewport(0, 0, width, height);
}

void mouse_callback(GLFWwindow* window, double xposIn, double yposIn)
{
    float xpos = static_cast<float>(xposIn);
    float ypos = static_cast<float>(yposIn);

    if (firstMouse)
    {
        lastX = xpos;
        lastY = ypos;
        firstMouse = false;
    }

    float xoffset = xpos - lastX;
    float yoffset = lastY - ypos; // reversed since y-coordinates go from bottom to top

    lastX = xpos;
    lastY = ypos;

    camera.ProcessMouseMovement(xoffset, yoffset);
}

// glfw: whenever the mouse scroll wheel scrolls, this callback is called
// ----------------------------------------------------------------------
void scroll_callback(GLFWwindow* window, double xoffset, double yoffset)
{
    camera.ProcessMouseScroll(static_cast<float>(yoffset));
}  

